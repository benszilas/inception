user www-data;
worker_processes auto;
daemon off;

server {
listen				443 ssl;
server_name         "$DOMAIN_NAME";
ssl_certificate     "$SSL_CERT_FILE";
ssl_certificate_key "$SSL_KEY_FILE";
ssl_protocols       TLSv1.2 TLSv1.3;

root	/var/www/html;
index	index.php index.html;

location / {
	try_files	$uri $uri/ /index.php$is_args$args;
}

location ~ \.php$ {
	include			fastcgi_params;
	fastcgi_pass	wordpress:9000; # Connects to the PHP-FPM in the WordPress container
	fastcgi_param	SCRIPT_FILENAME $document_root$fastcgi_script_name;
}

location ~ /\.ht {
	deny	all;
}
